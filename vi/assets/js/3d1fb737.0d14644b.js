"use strict";(globalThis.webpackChunkgreenwave_doc=globalThis.webpackChunkgreenwave_doc||[]).push([[56],{7548:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>a,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"guides/api/how_to_test","title":"How To Test","description":"\x3c!--","source":"@site/docs/guides/api/how_to_test.md","sourceDirName":"guides/api","slug":"/guides/api/how_to_test","permalink":"/GreenWave/vi/docs/guides/api/how_to_test","draft":false,"unlisted":false,"editUrl":"https://github.com/sonmessia/GreenWave.git/docs/guides/api/how_to_test.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"How To Test"},"sidebar":"tutorialSidebar","previous":{"title":"API Documentation","permalink":"/GreenWave/vi/docs/guides/api/api_backend"},"next":{"title":"GreenWave AI","permalink":"/GreenWave/vi/docs/category/greenwave-ai"}}');var s=t(4848),i=t(8453);const l={sidebar_position:2,title:"How To Test"},d="How To Test",o={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"1. Environment Setup",id:"1-environment-setup",level:2},{value:"2. Authorization",id:"2-authorization",level:2},{value:"3. Constructing Requests",id:"3-constructing-requests",level:2},{value:"GET Request",id:"get-request",level:3},{value:"POST Request",id:"post-request",level:3},{value:"PATCH Request",id:"patch-request",level:3},{value:"DELETE Request",id:"delete-request",level:3},{value:"4. Batch Operations",id:"4-batch-operations",level:2},{value:"5. Testing Workflow Example",id:"5-testing-workflow-example",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"how-to-test",children:"How To Test"})}),"\n",(0,s.jsx)(n.p,{children:"This guide provides instructions on how to test the GreenWave API using Postman. It covers setting up the environment, configuring authorization, and constructing requests."}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Download and install Postman."}),"\n",(0,s.jsx)(n.li,{children:"Ensure the backend server is running and accessible."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"1-environment-setup",children:"1. Environment Setup"}),"\n",(0,s.jsx)(n.p,{children:"Using environments in Postman allows you to switch between different setups (e.g., Local, Development, Production) easily without changing the request URLs manually."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Open Postman and go to the ",(0,s.jsx)(n.strong,{children:"Environments"})," tab on the left sidebar."]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Create Environment"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Name the environment (e.g., ",(0,s.jsx)(n.code,{children:"GreenWave Local"}),")."]}),"\n",(0,s.jsx)(n.li,{children:"Add the following variable:"}),"\n"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Variable"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Initial Value"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Current Value"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"baseUrl"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Default"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"http://localhost:8000"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"http://localhost:8000"})})]})})]}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Save"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Select this environment from the environment dropdown in the top right corner."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"2-authorization",children:"2. Authorization"}),"\n",(0,s.jsx)(n.p,{children:"If the API requires authentication, configure it at the Collection level so it applies to all requests."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Create a new Collection in Postman (e.g., ",(0,s.jsx)(n.code,{children:"GreenWave API"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:["Select the Collection and go to the ",(0,s.jsx)(n.strong,{children:"Authorization"})," tab."]}),"\n",(0,s.jsxs)(n.li,{children:["Select the appropriate Type (e.g., ",(0,s.jsx)(n.strong,{children:"Bearer Token"})," or ",(0,s.jsx)(n.strong,{children:"API Key"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:["Enter your token or key.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["If using a variable, enter ",(0,s.jsx)(n.code,{children:"{{authToken}}"})," in the Token field and add ",(0,s.jsx)(n.code,{children:"authToken"})," to your Environment variables."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Save"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"3-constructing-requests",children:"3. Constructing Requests"}),"\n",(0,s.jsxs)(n.p,{children:["When creating requests, use the ",(0,s.jsx)(n.code,{children:"{{baseUrl}}"})," variable followed by the specific endpoint path."]}),"\n",(0,s.jsx)(n.h3,{id:"get-request",children:"GET Request"}),"\n",(0,s.jsx)(n.p,{children:"Used to retrieve data."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example: Query AirQualityObserved Entities"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Create a new request."}),"\n",(0,s.jsxs)(n.li,{children:["Set the method to ",(0,s.jsx)(n.strong,{children:"GET"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Enter the URL: ",(0,s.jsx)(n.code,{children:"{{baseUrl}}/api/v1/air-quality"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Params"})," (Optional): Add query parameters to filter results.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Key: ",(0,s.jsx)(n.code,{children:"limit"}),", Value: ",(0,s.jsx)(n.code,{children:"10"})]}),"\n",(0,s.jsxs)(n.li,{children:["Key: ",(0,s.jsx)(n.code,{children:"format"}),", Value: ",(0,s.jsx)(n.code,{children:"keyValues"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Send"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"post-request",children:"POST Request"}),"\n",(0,s.jsx)(n.p,{children:"Used to create new entities. Requires a JSON body."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example: Create AirQualityObserved Entity"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Create a new request."}),"\n",(0,s.jsxs)(n.li,{children:["Set the method to ",(0,s.jsx)(n.strong,{children:"POST"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Enter the URL: ",(0,s.jsx)(n.code,{children:"{{baseUrl}}/api/v1/air-quality"})]}),"\n",(0,s.jsxs)(n.li,{children:["Go to the ",(0,s.jsx)(n.strong,{children:"Body"})," tab."]}),"\n",(0,s.jsxs)(n.li,{children:["Select ",(0,s.jsx)(n.strong,{children:"raw"})," and choose ",(0,s.jsx)(n.strong,{children:"JSON"})," from the dropdown."]}),"\n",(0,s.jsx)(n.li,{children:"Enter the JSON payload:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n  "id": "urn:ngsi-ld:AirQualityObserved:001",\r\n  "type": "AirQualityObserved",\r\n  "dateObserved": {\r\n    "type": "Property",\r\n    "value": "2023-10-01T12:00:00Z"\r\n  },\r\n  "NO2": {\r\n    "type": "Property",\r\n    "value": 45\r\n  },\r\n  "location": {\r\n    "type": "GeoProperty",\r\n    "value": {\r\n      "type": "Point",\r\n      "coordinates": [-3.70379, 40.416775]\r\n    }\r\n  }\r\n}\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"7",children:["\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Send"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"patch-request",children:"PATCH Request"}),"\n",(0,s.jsx)(n.p,{children:"Used to update existing entities partially."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example: Update Entity Attributes"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Create a new request."}),"\n",(0,s.jsxs)(n.li,{children:["Set the method to ",(0,s.jsx)(n.strong,{children:"PATCH"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Enter the URL: ",(0,s.jsx)(n.code,{children:"{{baseUrl}}/api/v1/air-quality/urn:ngsi-ld:AirQualityObserved:001/attrs"})]}),"\n",(0,s.jsxs)(n.li,{children:["Go to the ",(0,s.jsx)(n.strong,{children:"Body"})," tab."]}),"\n",(0,s.jsxs)(n.li,{children:["Select ",(0,s.jsx)(n.strong,{children:"raw"})," and choose ",(0,s.jsx)(n.strong,{children:"JSON"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Enter the JSON payload (NGSI-LD Attribute Patch):"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n  "NO2": {\r\n    "type": "Property",\r\n    "value": 50\r\n  }\r\n}\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"7",children:["\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Send"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"delete-request",children:"DELETE Request"}),"\n",(0,s.jsx)(n.p,{children:"Used to remove entities."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example: Delete AirQualityObserved Entity"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Create a new request."}),"\n",(0,s.jsxs)(n.li,{children:["Set the method to ",(0,s.jsx)(n.strong,{children:"DELETE"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Enter the URL: ",(0,s.jsx)(n.code,{children:"{{baseUrl}}/api/v1/air-quality/urn:ngsi-ld:AirQualityObserved:001"})]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Send"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"4-batch-operations",children:"4. Batch Operations"}),"\n",(0,s.jsx)(n.p,{children:"For bulk actions, use the batch endpoints."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example: Batch Create Entities"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Create a new request."}),"\n",(0,s.jsxs)(n.li,{children:["Set the method to ",(0,s.jsx)(n.strong,{children:"POST"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Enter the URL: ",(0,s.jsx)(n.code,{children:"{{baseUrl}}/api/v1/air-quality/batch/create"})]}),"\n",(0,s.jsx)(n.li,{children:"Body (JSON):"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n  "entities": [\r\n    {\r\n      "id": "urn:ngsi-ld:AirQualityObserved:002",\r\n      "type": "AirQualityObserved",\r\n      "NO2": { "type": "Property", "value": 30 }\r\n    },\r\n    {\r\n      "id": "urn:ngsi-ld:AirQualityObserved:003",\r\n      "type": "AirQualityObserved",\r\n      "NO2": { "type": "Property", "value": 25 }\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"5-testing-workflow-example",children:"5. Testing Workflow Example"}),"\n",(0,s.jsx)(n.p,{children:"To verify the lifecycle of an entity, follow this sequence:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Create"}),": Send a POST request to create a new entity. Verify the response is ",(0,s.jsx)(n.code,{children:"201 Created"})," or returns the ID."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Read"}),": Send a GET request using the ID from the previous step. Verify the returned data matches what was sent."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Update"}),": Send a PATCH request to modify a property. Verify the response is ",(0,s.jsx)(n.code,{children:"204 No Content"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Verify Update"}),": Send a GET request again. Verify the property value has changed."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Delete"}),": Send a DELETE request. Verify the response is ",(0,s.jsx)(n.code,{children:"204 No Content"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Verify Delete"}),": Send a GET request. Verify the response is ",(0,s.jsx)(n.code,{children:"404 Not Found"}),"."]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>d});var r=t(6540);const s={},i=r.createContext(s);function l(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);