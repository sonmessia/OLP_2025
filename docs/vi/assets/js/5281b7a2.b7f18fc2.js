"use strict";(globalThis.webpackChunkgreenwave_doc=globalThis.webpackChunkgreenwave_doc||[]).push([[443],{936:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"architecture","title":"Architecture","description":"\x3c!--","source":"@site/docs/architecture.md","sourceDirName":".","slug":"/architecture","permalink":"/GreenWave/vi/docs/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/sonmessia/GreenWave.git/docs/architecture.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Architecture"},"sidebar":"tutorialSidebar","previous":{"title":"Installation","permalink":"/GreenWave/vi/docs/installation"},"next":{"title":"Guides","permalink":"/GreenWave/vi/docs/category/guides"}}');var r=t(4848),s=t(8453);const a={sidebar_position:3,title:"Architecture"},o="Architecture",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Architecture Diagram",id:"architecture-diagram",level:2},{value:"Component Layers",id:"component-layers",level:2},{value:"1. Simulation &amp; Device Layer",id:"1-simulation--device-layer",level:3},{value:"2. Edge &amp; Ingestion Layer",id:"2-edge--ingestion-layer",level:3},{value:"3. Core Context Management Layer",id:"3-core-context-management-layer",level:3},{value:"4. Intelligence Processing Layer",id:"4-intelligence-processing-layer",level:3},{value:"5. Historical Data Layer",id:"5-historical-data-layer",level:3},{value:"6. Presentation Layer",id:"6-presentation-layer",level:3},{value:"Data Flow Description",id:"data-flow-description",level:2}];function d(e){const n={h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"architecture",children:"Architecture"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"This document outlines the high-level architecture of the GreenWave system, a smart traffic management solution based on the FIWARE ecosystem. The system leverages traffic simulation, real-time context management, historical data persistence, and Artificial Intelligence to optimize traffic flow and provide actionable insights."}),"\n",(0,r.jsx)(n.h2,{id:"architecture-diagram",children:"Architecture Diagram"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"System Architecture",src:t(2752).A+"",width:"1855",height:"696"})}),"\n",(0,r.jsx)(n.h2,{id:"component-layers",children:"Component Layers"}),"\n",(0,r.jsx)(n.p,{children:"The architecture is modular, following a layered approach to ensure scalability and separation of concerns."}),"\n",(0,r.jsx)(n.h3,{id:"1-simulation--device-layer",children:"1. Simulation & Device Layer"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"SUMO (Simulation of Urban MObility):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Acts as the data source for the system."}),"\n",(0,r.jsx)(n.li,{children:"Simulates real-world traffic scenarios, generating telemetry data such as vehicle position, speed, and CO2 emissions."}),"\n",(0,r.jsx)(n.li,{children:"In a production environment, this component would be replaced or augmented by physical IoT sensors and traffic cameras."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"2-edge--ingestion-layer",children:"2. Edge & Ingestion Layer"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"IoT Agent (Northbound):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Serves as the gateway between the data source (SUMO) and the core platform."}),"\n",(0,r.jsx)(n.li,{children:"Standardizes raw data from the simulation into the NGSI-LD format required by the Context Broker."}),"\n",(0,r.jsx)(n.li,{children:"Handles the mapping of device attributes to logical entities."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"3-core-context-management-layer",children:"3. Core Context Management Layer"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Orion-LD Context Broker:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'The central component of the architecture, functioning as the "brain" of the system.'}),"\n",(0,r.jsx)(n.li,{children:"Manages the lifecycle of context information (entities) using the NGSI-LD standard (Linked Data)."}),"\n",(0,r.jsx)(n.li,{children:"Implements a Publish/Subscribe mechanism to notify other components (AI, History Service) whenever context data changes."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"MongoDB:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The backend storage for the Context Broker."}),"\n",(0,r.jsx)(n.li,{children:"Stores only the current state of entities (e.g., the current location of a vehicle). It does not persist historical data."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"4-intelligence-processing-layer",children:"4. Intelligence Processing Layer"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GreenWave AI:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A custom service containing Machine Learning models (Reinforcement Learning agents)."}),"\n",(0,r.jsx)(n.li,{children:"Subscribes to specific events from Orion-LD."}),"\n",(0,r.jsx)(n.li,{children:"Processes real-time data to traffic light control commands."}),"\n",(0,r.jsx)(n.li,{children:"Sends analysis results directly to the Admin Dashboard for visualization."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"5-historical-data-layer",children:"5. Historical Data Layer"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Quantum Leap:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A generic enabler specifically designed for time-series data persistence."}),"\n",(0,r.jsx)(n.li,{children:"Receives notifications from Orion-LD and converts the NGSI-LD payload into a format suitable for time-series databases."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"CrateDB:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A distributed SQL database optimized for massive amounts of IoT and time-series data."}),"\n",(0,r.jsx)(n.li,{children:'Stores the historical records of all traffic metrics, enabling temporal queries (e.g., "Show traffic density over the last 24 hours").'}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"6-presentation-layer",children:"6. Presentation Layer"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Admin Dashboard (React):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The control center for system administrators."}),"\n",(0,r.jsx)(n.li,{children:"Fetches historical analytics from CrateDB."}),"\n",(0,r.jsx)(n.li,{children:"Displays real-time insights and recommendations provided by the GreenWave AI engine."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"User Map (React):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A client-facing application providing traffic visualization."}),"\n",(0,r.jsx)(n.li,{children:"Queries CrateDB to render heatmaps and traffic flows based on historical and recent data."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"data-flow-description",children:"Data Flow Description"}),"\n",(0,r.jsx)(n.p,{children:"The system operates on an event-driven architecture. The data flows through the system in the following sequence:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Data Generation:"})," SUMO generates traffic simulation data (vehicle coordinates, speed, acceleration) and sends it to the IoT Agent."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Normalization:"})," The IoT Agent receives the raw data, converts it into NGSI-LD entities, and updates the Orion-LD Context Broker via HTTP requests."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Context Update & Storage:"})," Orion-LD updates its internal state. The latest values are immediately persisted in MongoDB. At this stage, the system knows exactly what is happening right now."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Notification (The Branching Point):"})," Upon updating the context, Orion-LD triggers asynchronous notifications to subscribers:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Path A (To History):"})," A notification is sent to Quantum Leap. Quantum Leap formats the data and inserts a new time-stamped record into CrateDB."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Path B (To AI):"})," A notification is sent to GreenWave AI. The AI engine analyzes the new state (e.g., detecting a bottleneck) and computes an optimization strategy."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Visualization & Analysis:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The Admin Dashboard and User Map execute SQL queries against CrateDB to retrieve historical trends and visualize traffic patterns over time."}),"\n",(0,r.jsx)(n.li,{children:"Simultaneously, the Admin Dashboard receives the processed insights directly from GreenWave AI to display alerts or suggested actions to the operator."}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},2752:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/architecture-1e879e301ea3935d21412704712b5643.gif"},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var i=t(6540);const r={},s=i.createContext(r);function a(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);